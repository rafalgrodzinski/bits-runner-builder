@extern putchar fun: character u64 -> u32

printNum fun: number u64
    biggest u64 <- 10
    rep biggest <= number: biggest <- biggest * 10
    biggest <- biggest / 10

    rep biggest > 0, biggest <- biggest / 10
        digit u64 <- number / biggest
        putchar(digit + '0')
        number <- number % biggest
    ;
;

@export main fun
    nums data<u64> <- {5, 8, 7, 13}
    pNums ptr<data<u64>> <- { nums.adr }
    pNums.val[0] <- 9
    printNum(pNums.val[0])
;