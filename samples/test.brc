rebootRaw raw<"">
    mov ah, 0x05
    int 0x30
;

@export printNum fun: number u64
    biggest u64 <- 10
    rep biggest <= number: biggest <- biggest * 10
    biggest <- biggest / 10

    rep biggest > 0, biggest <- biggest / 10
        digit u64 <- number / biggest
        putchar(digit + '0')
        number <- number % biggest
    ;
;

user blob
    age u64
    name data<u64, 16>
;

u2 blob<user> <- { 4, "hello" }
//num u64
//nums data<u64> <- {2, 4, 8, 16, 32}
//buffer ptr<u64>
pu2 ptr<blob<user>>
num u64 <- 77

@export main fun -> u32
    pu2 <- { u2.adr }
    //u2.adr
    pu2.val.age <- 7
    pu2.val.age <- num

    u3 blob<user> <- pu2.val
    u3.age <- 44

    printNum(u3.age)
    print(u3.name)
    printNum(u2.age)

    ret 0
;
