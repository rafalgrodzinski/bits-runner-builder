@extern putchar fun: character u32 -> u32

/*print fun: text data<u32, 8>
    rep i u32 <- 0, text[i] != 0:
        putchar(text[i])
        i <- i + 1
    ;
;*/

printNum fun: number u32
    biggest u32 <- 10
    rep biggest <= number: biggest <- biggest * 10
    biggest <- biggest / 10

    rep biggest > 0:
        digit u32 <- number / biggest
        putchar(digit + '0')
        number <- number % biggest
        biggest <- biggest / 10
    ;
;

@export main fun -> u32
    things data<u32> <- [7, 12, 55, 4]

    rep i u32 <- 0, i < things.count:
        printNum(things[i])
        putchar('\n')
        i <- i + 1
    ;
    a u32 <- things.adr
    printNum(a)
    putchar('\n')

    ret 0
;