@extern putchar fun: character u32 -> u32

/*print fun: text data<u32, 8>
    rep i u32 <- 0, text[i] != 0:
        putchar(text[i])
        i <- i + 1
    ;
;*/

printNum fun: number u32
    biggest u32 <- 10
    rep biggest <= number: biggest <- biggest * 10
    biggest <- biggest / 10

    rep biggest > 0:
        digit u32 <- number / biggest
        putchar(digit + '0')
        number <- number % biggest
        biggest <- biggest / 10
    ;
;

@export main fun -> u32
    num u32 <- 5
    num2 u32 <- num

    pNum ptr<u32>
    pNum.vAdr <- num.adr
    printNum(num)
    putchar('\n')

    pNum.val <- 4
    printNum(num)
    putchar('\n')

    printNum(num2)
    putchar('\n')

    num <- 9
    printNum(pNum.val)
    putchar('\n')

    ret 0
;

/*@export main fun
    num u32 <- 5
    pNum ptr<u32>
    pNum.vAdr <- num.adr
    pNum.val <- 4
    num2 u32 <- pNum.val
    printNum(num2)
;*/