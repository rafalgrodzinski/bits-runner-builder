@extern putchar fun: character u64 -> u32

printNum fun: number u64
    biggest u64 <- 10
    rep biggest <= number: biggest <- biggest * 10
    biggest <- biggest / 10

    rep biggest > 0, biggest <- biggest / 10
        digit u64 <- number / biggest
        putchar(digit + '0')
        number <- number % biggest
    ;
;

engine blob
    size u64
;

car blob
    name data<u64, 16>
    eng blob<engine>
;

@export main fun -> u64
    toyota blob<car>

    //toyota.name <- "toyo"
    //toyota.eng <- { 1200 }
    //toyota.eng.size <- 1200

    //s u64 <- toyota.eng.size
    //toyota.eng.size
    toyota.eng.size <- 3400
    printNum(toyota.eng.size)

    ret 0
;